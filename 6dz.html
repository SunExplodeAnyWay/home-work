<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞–≥–∞–∑–∏–Ω —Å –∫–æ—Ä–∑–∏–Ω–æ–π –∏ –≥–∞–ª–µ—Ä–µ–µ–π</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
        }
        body {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid #3498db;
        }
        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 1.5em;
        }
        .cart-count {
            position: absolute;
            top: -10px;
            right: -10px;
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            width: 22px;
            height: 22px;
            text-align: center;
            font-size: 0.7em;
            line-height: 22px;
            font-weight: bold;
        }
        .catalog {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }
        .product-card:hover {
            transform: translateY(-5px);
        }
        .product-images {
            position: relative;
            height: 200px;
            overflow: hidden;
            cursor: pointer;
        }
        .product-main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }
        .product-images:hover .product-main-image {
            transform: scale(1.05);
        }
        .image-count {
            position: absolute;
            bottom: 10px;
            right: 10px;
            background: rgba(0,0,0,0.6);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.9em;
        }
        .product-info {
            padding: 15px;
        }
        .product-name {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        .product-price {
            color: #e74c3c;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .buy-btn {
            background: #2ecc71;
            color: white;
            border: none;
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background 0.3s;
        }
        .buy-btn:hover {
            background: #27ae60;
        }
        .cart-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .cart-items {
            min-height: 100px;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #f0f0f0;
        }
        .cart-total {
            font-weight: bold;
            font-size: 1.3em;
            margin-top: 20px;
            padding-top: 20px;
            text-align: right;
            border-top: 2px solid #3498db;
        }
        .empty-cart {
            color: #777;
            font-style: italic;
            text-align: center;
            padding: 30px 0;
        }
        
        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            position: relative;
            max-width: 90%;
            max-height: 90%;
        }
        .modal-image {
            max-width: 100%;
            max-height: 80vh;
            display: block;
            margin: 0 auto;
        }
        .close-modal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        .close-modal:hover {
            color: #e74c3c;
        }
        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 50px;
            cursor: pointer;
            background: rgba(0,0,0,0.5);
            width: 60px;
            height: 60px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
            user-select: none;
            transition: background 0.3s;
        }
        .gallery-nav:hover {
            background: rgba(0,0,0,0.8);
        }
        .prev {
            left: 30px;
        }
        .next {
            right: 30px;
        }
        .image-counter {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            background: rgba(0,0,0,0.5);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1.1em;
        }
        .thumbnails {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        .thumbnail {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border: 2px solid transparent;
            border-radius: 5px;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.3s;
        }
        .thumbnail:hover, .thumbnail.active {
            opacity: 1;
            border-color: #3498db;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω</h1>
        <div class="cart-icon">
            üõí
            <span class="cart-count">0</span>
        </div>
    </div>
    
    <div id="catalog" class="catalog"></div>
    
    <div class="cart-container">
        <div class="cart-header">
            <h2>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞</h2>
        </div>
        <div id="cart-items" class="cart-items">
            <div class="empty-cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>
        </div>
        <div class="cart-total">
            –ò—Ç–æ–≥–æ: <span id="total-price">0</span> —Ä—É–±.
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <div id="gallery-modal" class="modal">
        <span class="close-modal">&times;</span>
        <div class="gallery-nav prev">‚ùÆ</div>
        <div class="gallery-nav next">‚ùØ</div>
        <div class="modal-content">
            <img id="modal-image" class="modal-image" src="" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
            <div id="image-counter" class="image-counter"></div>
        </div>
        <div id="thumbnails" class="thumbnails"></div>
    </div>

    <script>
        // –ö–ª–∞—Å—Å —Ç–æ–≤–∞—Ä–∞
        class Product {
            constructor(id, name, price, images, description = '') {
                this.id = id;
                this.name = name;
                this.price = price;
                this.images = images; // –ú–∞—Å—Å–∏–≤ –ø—É—Ç–µ–π –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
                this.description = description;
            }
        }

        // –ö–ª–∞—Å—Å –∫–æ—Ä–∑–∏–Ω—ã
        class Cart {
            constructor() {
                this.items = [];
                this.cartItemsElement = document.getElementById('cart-items');
                this.totalPriceElement = document.getElementById('total-price');
                this.cartCountElement = document.querySelector('.cart-count');
            }

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
            addProduct(product, quantity = 1) {
                const existingItem = this.items.find(item => item.product.id === product.id);
                
                if (existingItem) {
                    existingItem.quantity += quantity;
                } else {
                    this.items.push({ product, quantity });
                }
                
                this.updateCart();
            }

            // –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
            removeProduct(productId) {
                this.items = this.items.filter(item => item.product.id !== productId);
                this.updateCart();
            }

            // –û—á–∏—Å—Ç–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã
            clearCart() {
                this.items = [];
                this.updateCart();
            }

            // –†–∞—Å—á–µ—Ç –æ–±—â–µ–π —Å—É–º–º—ã
            calculateTotal() {
                return this.items.reduce((total, item) => {
                    return total + (item.product.price * item.quantity);
                }, 0);
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ—Ä–∑–∏–Ω—ã
            updateCart() {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∫–æ–Ω–∫–µ –∫–æ—Ä–∑–∏–Ω—ã
                const totalItems = this.items.reduce((sum, item) => sum + item.quantity, 0);
                this.cartCountElement.textContent = totalItems;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ—Ä–∑–∏–Ω—ã
                if (this.items.length === 0) {
                    this.cartItemsElement.innerHTML = '<div class="empty-cart">–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</div>';
                    this.totalPriceElement.textContent = '0';
                    return;
                }
                
                this.cartItemsElement.innerHTML = this.items.map(item => `
                    <div class="cart-item" data-id="${item.product.id}">
                        <div>
                            <strong>${item.product.name}</strong>
                            <div>${item.quantity} √ó ${item.product.price} —Ä—É–±.</div>
                        </div>
                        <div>
                            <strong>${item.product.price * item.quantity} —Ä—É–±.</strong>
                            <button class="remove-btn" data-id="${item.product.id}">–£–¥–∞–ª–∏—Ç—å</button>
                        </div>
                    </div>
                `).join('');
                
                this.totalPriceElement.textContent = this.calculateTotal();
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è
                document.querySelectorAll('.remove-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const productId = parseInt(e.target.dataset.id);
                        this.removeProduct(productId);
                    });
                });
            }
        }

        // –ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        class ProductGallery {
            constructor() {
                this.modal = document.getElementById('gallery-modal');
                this.modalImage = document.getElementById('modal-image');
                this.imageCounter = document.getElementById('image-counter');
                this.thumbnailsContainer = document.getElementById('thumbnails');
                this.currentProduct = null;
                this.currentImageIndex = 0;
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
                document.querySelector('.close-modal').addEventListener('click', () => {
                    this.closeModal();
                });
                
                // –ö–ª–∏–∫ –ø–æ —Ñ–æ–Ω—É
                this.modal.addEventListener('click', (e) => {
                    if (e.target === this.modal) {
                        this.closeModal();
                    }
                });
                
                // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º
                document.querySelector('.prev').addEventListener('click', () => {
                    this.prevImage();
                });
                
                document.querySelector('.next').addEventListener('click', () => {
                    this.nextImage();
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∞–≤–∏—à–µ Esc
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeModal();
                    } else if (e.key === 'ArrowLeft') {
                        this.prevImage();
                    } else if (e.key === 'ArrowRight') {
                        this.nextImage();
                    }
                });
            }
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –≥–∞–ª–µ—Ä–µ–µ–π
            openModal(product, startIndex = 0) {
                this.currentProduct = product;
                this.currentImageIndex = startIndex;
                this.updateModalImage();
                this.modal.style.display = 'flex';
                document.body.style.overflow = 'hidden'; // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            }
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
            closeModal() {
                this.modal.style.display = 'none';
                document.body.style.overflow = 'auto'; // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ
            updateModalImage() {
                if (!this.currentProduct || !this.currentProduct.images.length) return;
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                this.modalImage.src = this.currentProduct.images[this.currentImageIndex];
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
                this.imageCounter.textContent = `${this.currentImageIndex + 1} / ${this.currentProduct.images.length}`;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–µ–≤—å—é
                this.thumbnailsContainer.innerHTML = this.currentProduct.images.map((img, index) => `
                    <img src="${img}" class="thumbnail ${index === this.currentImageIndex ? 'active' : ''}" 
                         data-index="${index}" alt="–ü—Ä–µ–≤—å—é ${index + 1}">
                `).join('');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –ø—Ä–µ–≤—å—é
                document.querySelectorAll('.thumbnail').forEach(thumb => {
                    thumb.addEventListener('click', (e) => {
                        this.currentImageIndex = parseInt(e.target.dataset.index);
                        this.updateModalImage();
                    });
                });
            }
            
            // –°–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            nextImage() {
                if (!this.currentProduct) return;
                this.currentImageIndex = (this.currentImageIndex + 1) % this.currentProduct.images.length;
                this.updateModalImage();
            }
            
            // –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            prevImage() {
                if (!this.currentProduct) return;
                this.currentImageIndex = (this.currentImageIndex - 1 + this.currentProduct.images.length) % this.currentProduct.images.length;
                this.updateModalImage();
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
        function initStore() {
            // –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
            const cart = new Cart();
            const gallery = new ProductGallery();
            
            // –¢–æ–≤–∞—Ä—ã –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞
            const products = [
                new Product(1, '–°–º–∞—Ä—Ç—Ñ–æ–Ω Premium', 34990, [
                    'https://via.placeholder.com/600x800/3498db/ffffff?text=–°–º–∞—Ä—Ç—Ñ–æ–Ω+1',
                    'https://via.placeholder.com/600x800/2ecc71/ffffff?text=–°–º–∞—Ä—Ç—Ñ–æ–Ω+2',
                    'https://via.placeholder.com/600x800/e74c3c/ffffff?text=–°–º–∞—Ä—Ç—Ñ–æ–Ω+3'
                ], '–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω —Å –ª—É—á—à–µ–π –∫–∞–º–µ—Ä–æ–π'),
                
                new Product(2, '–ù–æ—É—Ç–±—É–∫ Ultra', 89990, [
                    'https://via.placeholder.com/800x600/9b59b6/ffffff?text=–ù–æ—É—Ç–±—É–∫+1',
                    'https://via.placeholder.com/800x600/34495e/ffffff?text=–ù–æ—É—Ç–±—É–∫+2'
                ], '–ú–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ –∏–≥—Ä'),
                
                new Product(3, '–£–º–Ω—ã–µ —á–∞—Å—ã', 15990, [
                    'https://via.placeholder.com/600x600/f1c40f/000000?text=–ß–∞—Å—ã+1',
                    'https://via.placeholder.com/600x600/16a085/ffffff?text=–ß–∞—Å—ã+2',
                    'https://via.placeholder.com/600x600/d35400/ffffff?text=–ß–∞—Å—ã+3',
                    'https://via.placeholder.com/600x600/7f8c8d/ffffff?text=–ß–∞—Å—ã+4'
                ], '–£–º–Ω—ã–µ —á–∞—Å—ã —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è'),
                
                new Product(4, '–ù–∞—É—à–Ω–∏–∫–∏ Pro', 12990, [
                    'https://via.placeholder.com/800x600/8e44ad/ffffff?text=–ù–∞—É—à–Ω–∏–∫–∏+1',
                    'https://via.placeholder.com/800x600/27ae60/ffffff?text=–ù–∞—É—à–Ω–∏–∫–∏+2'
                ], '–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º'),
                
                new Product(5, '–§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç', 75990, [
                    'https://via.placeholder.com/800x600/e67e22/ffffff?text=–ö–∞–º–µ—Ä–∞+1',
                    'https://via.placeholder.com/800x600/2c3e50/ffffff?text=–ö–∞–º–µ—Ä–∞+2',
                    'https://via.placeholder.com/800x600/1abc9c/ffffff?text=–ö–∞–º–µ—Ä–∞+3'
                ], '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∑–µ—Ä–∫–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞'),
                
                new Product(6, '–ü–ª–∞–Ω—à–µ—Ç', 42990, [
                    'https://via.placeholder.com/800x600/3498db/ffffff?text=–ü–ª–∞–Ω—à–µ—Ç+1',
                    'https://via.placeholder.com/800x600/2ecc71/ffffff?text=–ü–ª–∞–Ω—à–µ—Ç+2'
                ], '–ü–ª–∞–Ω—à–µ—Ç —Å –≤—ã—Å–æ–∫–∏–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ–º —ç–∫—Ä–∞–Ω–∞')
            ];
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ —Ç–æ–≤–∞—Ä–æ–≤
            const catalog = document.getElementById('catalog');
            
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-images">
                        <img src="${product.images[0]}" alt="${product.name}" class="product-main-image">
                        <div class="image-count">${product.images.length} —Ñ–æ—Ç–æ</div>
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">${product.price.toLocaleString()} —Ä—É–±.</div>
                        <button class="buy-btn" data-id="${product.id}">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                    </div>
                `;
                catalog.appendChild(card);
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É"
                card.querySelector('.buy-btn').addEventListener('click', (e) => {
                    const productId = parseInt(e.target.dataset.id);
                    const product = products.find(p => p.id === productId);
                    if (product) {
                        cart.addProduct(product);
                        
                        // –ê–Ω–∏–º–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
                        e.target.textContent = '‚úì –î–æ–±–∞–≤–ª–µ–Ω–æ';
                        setTimeout(() => {
                            e.target.textContent = '–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É';
                        }, 1000);
                    }
                });
                
                // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≥–∞–ª–µ—Ä–µ–∏
                card.querySelector('.product-images').addEventListener('click', () => {
                    gallery.openModal(product);
                });
            });
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', initStore);
    </script>
</body>
</html>